<Window x:Class="Billapong.MapEditor.Views.MapEditView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MapEdit" Height="700" Width="837" Name="MapEditWindow" ResizeMode="NoResize">

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <StackPanel>
            <DockPanel Margin="10">
                <TextBlock DockPanel.Dock="Left">Name:</TextBlock>
                <Button DockPanel.Dock="Right" Command="{Binding SaveCommand}" Content="Save" Padding="5,1,5,1" />
                <TextBox Margin="10,0,10,0" Text="{Binding MapName}" />
            </DockPanel>

            <ItemsControl ItemsSource="{Binding GameWindows}" Margin="10">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <ItemsControl ItemsSource="{Binding}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <ToggleButton CommandParameter="{Binding}" Command="{Binding ElementName=MapEditWindow, Path=DataContext.ToggleWindowCommand}" Width="200" Height="200" />

                                        <ItemsControl ItemsSource="{Binding Holes}">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <ItemsControl ItemsSource="{Binding}">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal" />
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <Grid Width="13.3" Height="13.3">
                                                                    <Ellipse Fill="Black">
                                                                        <Ellipse.InputBindings>
                                                                            <MouseBinding MouseAction="LeftClick" CommandParameter="{Binding}" Command="{Binding ElementName=MapEditWindow, Path=DataContext.ToggleHoleCommand}" />
                                                                        </Ellipse.InputBindings>
                                                                    </Ellipse>
                                                                </Grid>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                    </ItemsControl>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                    </Grid>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </ScrollViewer>

</Window>
